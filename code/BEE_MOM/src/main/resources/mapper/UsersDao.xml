<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="top.atluofu.bee_mom.dao.UsersDao">

    <resultMap type="top.atluofu.bee_mom.entity.Users" id="UsersMap">
        <result property="userId" column="user_id" jdbcType="INTEGER"/>
        <result property="userName" column="user_name" jdbcType="VARCHAR"/>
        <result property="followCount" column="follow_count" jdbcType="INTEGER"/>
        <result property="followerCount" column="follower_count" jdbcType="INTEGER"/>
        <result property="avatarurl" column="avatarURL" jdbcType="VARCHAR"/>
        <result property="backgroundImage" column="background_image" jdbcType="VARCHAR"/>
        <result property="signature" column="signature" jdbcType="VARCHAR"/>
        <result property="totalFavorite" column="total_favorite" jdbcType="INTEGER"/>
        <result property="workCount" column="work_count" jdbcType="INTEGER"/>
        <result property="favoriteCount" column="favorite_count" jdbcType="INTEGER"/>
        <result property="password" column="password" jdbcType="VARCHAR"/>
        <result property="isDelete" column="is_delete" jdbcType="INTEGER"/>
        <result property="createTime" column="create_time" jdbcType="TIMESTAMP"/>
        <result property="updateTime" column="update_time" jdbcType="TIMESTAMP"/>
    </resultMap>

    <!-- 批量插入 -->
    <insert id="insertBatch" keyProperty="userId" useGeneratedKeys="true">
        insert into demo.users(user_name, follow_count, follower_count, avatarURL, background_image, signature, total_favorite, work_count, favorite_count, password, is_delete, create_time, update_time)
        values
        <foreach collection="entities" item="entity" separator=",">
        (#{entity.userName}, #{entity.followCount}, #{entity.followerCount}, #{entity.avatarurl}, #{entity.backgroundImage}, #{entity.signature}, #{entity.totalFavorite}, #{entity.workCount}, #{entity.favoriteCount}, #{entity.password}, #{entity.isDelete}, #{entity.createTime}, #{entity.updateTime})
        </foreach>
    </insert>
    <!-- 批量插入或按主键更新 -->
    <insert id="insertOrUpdateBatch" keyProperty="userId" useGeneratedKeys="true">
        insert into demo.users(user_name, follow_count, follower_count, avatarURL, background_image, signature, total_favorite, work_count, favorite_count, password, is_delete, create_time, update_time)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.userName}, #{entity.followCount}, #{entity.followerCount}, #{entity.avatarurl}, #{entity.backgroundImage}, #{entity.signature}, #{entity.totalFavorite}, #{entity.workCount}, #{entity.favoriteCount}, #{entity.password}, #{entity.isDelete}, #{entity.createTime}, #{entity.updateTime})
        </foreach>
        on duplicate key update
         user_name = values(user_name) , follow_count = values(follow_count) , follower_count = values(follower_count) , avatarURL = values(avatarURL) , background_image = values(background_image) , signature = values(signature) , total_favorite = values(total_favorite) , work_count = values(work_count) , favorite_count = values(favorite_count) , password = values(password) , is_delete = values(is_delete) , create_time = values(create_time) , update_time = values(update_time)     </insert>

</mapper>

